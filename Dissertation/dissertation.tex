\documentclass[12pt,a4paper,twoside,openright]{report}
\usepackage{preamble} % imported packages/macros/styling

\usepackage[sorting=none]{biblatex} 
\usepackage[none]{hyphenat}
\addbibresource{ref.bib}

\newcommand{\colr}[1]{\textcolor{red}{#1}}
\newcommand{\colb}[1]{\textcolor{blue}{#1}}
\newcommand{\colv}[1]{\textcolor{violet}{#1}}

\begin{document}

% Reduce align spacing
% \setlength{\abovedisplayskip}{8pt}
% \setlength{\belowdisplayskip}{8pt}
% \setlength{\abovedisplayshortskip}{8pt}
% \setlength{\belowdisplayshortskip}{8pt}

%TC:ignore

% ----------------------------------------------------------------------

% title page 
\pagestyle{empty}

\rightline{\LARGE \textbf{Dylan Moss}}

\vspace*{30mm}
\begin{center}
	\Huge
	\textbf{Automatic Parallelisation using \\ Effect Tracking and Cost Analysis} \\[20mm]

	\vspace{-2mm}
	\includegraphics[scale=0.5]{./figures/crest.png}
	\hspace{0mm}\\[20mm]
	\vspace{2mm}


	\LARGE
	Computer Science Tripos -- Part II \\[1mm]
	Queens' College \\[20mm]

	\Large
	\today
\end{center}

\newpage
\thispagestyle{empty}

% ----------------------------------------------------------------------

\pagestyle{plain}

\pagenumbering{roman}


% declaration of originality
\section*{Declaration}

I, Dylan Moss of Queens' College, being a candidate for Part II of the Computer Science Tripos, hereby declare that this dissertation and the work described in it are my own work, unaided except as may be specified below, and that the dissertation does not contain material that has already been used to any substantial extent for a comparable purpose. In preparation of this dissertation I did not use text from AI-assisted platforms generating natural language answers to user queries, including but not limited to ChatGPT. I am content for my dissertation to be made available to the students and staff of the University.

\emph{Signed:} Dylan Moss\\
\emph{Date:} \today

% proforma
\chapter*{Proforma}
 {\large
  \begin{tabular}{ll}
	  Candidate number:   & 2432D                                        \\
	  Project Title:      & \bf Automatic Parallelisation using          \\ & \bf Effect Tracking and Cost Analysis \\
	  Examination:        & \bf Computer Science Tripos -- Part II, 2023 \\
	  Word Count:         & 11991\footnotemark[1]                        \\
	  Code Line Count:    & 6128\footnotemark[2]                         \\
	  Project Originator: & The Candidate and Prof. Alan Mycroft         \\
	  Project Supervisor: & Prof. Alan Mycroft                           \\
  \end{tabular}
 }
\footnotetext[1]{This word count was computed using {\texttt{texcount}}.}
\footnotetext[2]{This code line count was computed using {\texttt{cloc}} (excluding autogenerated test output).}
\stepcounter{footnote}

\section*{Original Aims of the Project}
The core aim was to implement automatic parallelisation into the compiler of a mid-featured, imperative programming language. This language, dubbed \textit{Kautuka}, implements a sensible subset of Go. The automatic parallelisation compiler translates Kautuka into parallelised Go, utilising \textit{side-effect tracking} and \textit{cost analysis} to produce \textit{safe} and \textit{efficient} parallel code. This eliminates the need for parallelisation primitives (which require complex mental models) to exploit the benefits of multicore parallelism. Kautuka's performance would be evaluated against sequential Go. Extensions include: implementing an inference algorithm, adding I/O operations (with aliasing analysis), and developing tools which integrate Kautuka into existing workflows.

\section*{Work Completed}

Exceeded all success criteria and the majority of extensions. Kautuka supports variables, control flow, functions, and user I/O operations. Kautuka produces parallelised code which outperforms sequential Go on I/O-bound programs (the target candidates for performance improvements). I extended side-effect tracking with aliasing analysis, to track file references in file-I/O operations. I implemented an inference algorithm into cost analysis, allowing me to translate of hundreds of lines of Go into Kautuka with minimal overhead. I demonstrated how Kautuka can be integrated into existing workflows, enabling its gradual adoption into established Go codebases.

\section*{Special Difficulties}

None.

% table of contents 
\tableofcontents


% ----------------------------------------------------------------------
\newpage
\pagenumbering{arabic}
\setcounter{page}{1}
%TC:endignore


%TC:envir minted 1 xall 
%TC:envir algorithmic 1 xall

% Include tables in word count
%TC:envir table 0 word
%TC:envir tabular 1 word

% Include footnotes in word count
%TC:macro \footnote [text]
%TC:macro \footnotetext [text]

% main chapters
\addtocontents{lol}{\protect\vspace*{10pt}}
\chapter{Introduction}
\input{chapters/introduction.tex}

\addtocontents{lol}{\protect\vspace*{10pt}}
\chapter{Preparation}
\input{chapters/preparation.tex}

\addtocontents{lol}{\protect\vspace*{10pt}}
\chapter{Implementation}
\input{chapters/implementation.tex}

\addtocontents{lol}{\protect\vspace*{10pt}}
\chapter{Evaluation}
\input{chapters/evaluation.tex}


\addtocontents{lol}{\protect\vspace*{10pt}}
\chapter{Conclusions}
\input{chapters/conclusion.tex}


% ----------------------------------------------------------------------
%TC:ignore
\newpage

\addcontentsline{toc}{chapter}{\numberline{}Bibliography}
\printbibliography

% ----------------------------------------------------------------------

\appendix

\addtocontents{toc}{\protect\setcounter{tocdepth}{0}}

\chapter{Grammar}

\input{chapters/appendices/A_grammar.tex}

\newpage

\chapter{Side-Effect System}

\input{chapters/appendices/B_side-effect-system.tex}

\newpage

\chapter{Type-Cost System}

\input{chapters/appendices/C_type-cost-system.tex}

\newpage

\chapter{Runtime-Cost System}

\input{chapters/appendices/D_runtime-cost-system.tex}

\newpage

\chapter{Parallelisation}

\input{chapters/appendices/E_parallelisation.tex}

\newpage

\chapter{Proposal}

\input{chapters/appendices/F_proposal.tex}


% don't forget to append the original project proposal
%TC:endignore
\end{document}
